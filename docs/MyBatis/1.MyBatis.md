# Mybatis 基础增删改查询

## 1.基础入门学习

员工类

```java
    @Data
@NoArgsConstructor
@AllArgsConstructor
public class Emp {
    private Integer id;
    private  String username;
    private String password;
    private String name;
    private Short gender;
    private String image;
    private Short job;
    private LocalDate entrydate;
    private Integer deptId;
    private LocalDateTime createTime;
    private LocalDateTime updateTime;
}

```

```java
@Mapper
public interface EmpMapper {
    // 删除
    @Delete("delete from emp where id = #{id}")
    public void delete(Integer id)

    // 添加
    // 返回主键的添加
    @Options(useGeneratedKeys = true, keyProperty = "id")
    @Insert("insert into emp(username,password,name, gender, image, job, dept_id, create_time, update_time,entrydate)
    values (#{username},#{password},#{name},#{gender},#{image},#{job},#{deptId},#{createTime},#{createTime},#{entrydate}))")
    public void addUser(Emp emp)
}
```

```java
@SpringBootTest
class SpringbootMybatisApplicationTests {
    @Autowired
    private EmpMapper empMapper;
    // 删除
    // @Test
    // empMapper.delete(12)

    // 添加
    @Test
    public void empAdd() {
       Emp emp = new Emp();
       emp.setUsername("汤师爷");
       emp.setPassword("123232322");
       emp.setName("我是张麻子");
       emp.setImage("1.png");
       emp.setGender((short)1);
       emp.setJob((short)1);
       emp.setDeptId((Integer) 1);
       emp.setCreateTime(LocalDateTime.now());
       emp.setUpdateTime(LocalDateTime.now());
       emp.setEntrydate(LocalDate.of(2000,1,1));
        empMapper.addUser(emp);
       System.out.println(emp.getId()); // 增加后返回主键
   }

}

```
